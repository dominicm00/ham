SubDir HAM_TOP src ;

SEARCH_SOURCE += [ FDirName $(SUBDIR) code ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) data ] ;
SEARCH_SOURCE += [ FDirName $(SUBDIR) parser ] ;


SharedLibrary libham.so
	:
	# code
	ActionsDefinition.cpp
	Assignment.cpp
	BinaryExpression.cpp
	Block.cpp
	Case.cpp
	DumpContext.cpp
	EvaluationContext.cpp
	If.cpp
	Include.cpp
	For.cpp
	FunctionCall.cpp
	InListExpression.cpp
	Jump.cpp
	Leaf.cpp
	List.cpp
	LocalVariableDeclaration.cpp
	Node.cpp
	NotExpression.cpp
	OnExpression.cpp
	RuleDefinition.cpp
	RuleInstructions.cpp
	UserRuleInstructions.cpp
	Switch.cpp
	While.cpp

	# data
	String.cpp
	Target.cpp
	TargetPool.cpp
	VariableScope.cpp

	# parser
	Parser.cpp

	:
	$(TARGET_LIBSTDC++)
;


BinCommand ham
	:
	ham.cpp

	:
	libham.so
	$(TARGET_LIBSTDC++)
;


SubInclude HAM_TOP src tests ;
